import{S as I,P as O,W as D,T as S,M as g,a as b,b as z,c as A,A as U,B as K,G as Z,d as J,e as Q,F as $,f as ee,R as te,g as t,h as oe,i as ne}from"./vendor.8f1a56d0.js";const ie=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))f(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&f(h)}).observe(document,{childList:!0,subtree:!0});function c(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerpolicy&&(l.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?l.credentials="include":o.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function f(o){if(o.ep)return;o.ep=!0;const l=c(o);fetch(o.href,l)}};ie();var re="varying vec2 vertexUV;varying vec3 vertexNormal;void main(){vertexUV=uv;vertexNormal=normalize(normalMatrix*normal);gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.0);}",ae="uniform sampler2D globeTexture;varying vec2 vertexUV;varying vec3 vertexNormal;void main(){float intesity=1.05-dot(vertexNormal,vec3(0.0,0.0,1.0));vec3 atmosphere=vec3(0.3,0.6,1.0)*pow(intesity,1.5);gl_FragColor=vec4(atmosphere+texture2D(globeTexture,vertexUV).xyz,1.0);}",se="varying vec3 vertexNormal;void main(){vertexNormal=normalize(normalMatrix*normal);gl_Position=projectionMatrix*modelViewMatrix*vec4(position,0.9);}",ce="varying vec3 vertexNormal;void main(){float intesity=pow(0.6-dot(vertexNormal,vec3(0,0,1.0)),2.0);gl_FragColor=vec4(0.3,0.6,1.0,1.0)*intesity;}",le="/my-portfolio/assets/globe.6886fa78.jpg",de="/my-portfolio/assets/mars.5dcab1de.jpg",me="/my-portfolio/assets/jupiter.b1664ff4.jpg",ue="/my-portfolio/assets/neptune.c1c9acc0.jpg";const p=document.querySelector("#canvas-container"),v=new I;let n=new O(75,p.offsetWidth/p.offsetHeight,.1,1e3);const x=new D({antialias:!0,canvas:document.querySelector(".webgl")});x.setSize(p.offsetWidth,p.offsetHeight);x.setPixelRatio(window.devicePixelRatio);const pe=new S().load(me),j=new g(new b(7,50,50),new z({map:pe}));j.position.z=-1500;j.position.x=-30;v.add(j);const ye=new S().load(de),E=new g(new b(5,50,50),new z({map:ye}));E.position.z=-1015;v.add(E);const fe=new S().load(ue),N=new g(new b(7,50,50),new z({map:fe}));N.position.z=-1700;N.position.x=500;v.add(N);const W=new g(new b(5,50,50),new A({vertexShader:re,fragmentShader:ae,uniforms:{globeTexture:{value:new S().load(le)}}})),ve=new g(new b(6,50,50),new A({vertexShader:se,fragmentShader:ce,blending:U,side:K}));ve.scale.set(1.1,1.1,1.1);const s=new Z;s.add(W);v.add(s);const F=new J,he=new Q({color:16777215}),H=[];for(let e=0;e<1e4;e++){const i=(Math.random()-.5)*2e3,c=(Math.random()-.5)*2e3,f=(-Math.random()-.05)*3e3;H.push(i,c,f)}F.setAttribute("position",new $(H,3));const w=new ee(F,he);v.add(w);n.position.z=15;n.position.x=-10;function xe({lat:e,lng:i,country:c,message:f}){const o=new g(new oe(.1,.1,.8),new z({color:"#3BF7FF",opacity:.4,transparent:!0})),l=e/180*Math.PI,h=i/180*Math.PI,k=5,G=k*Math.cos(l)*Math.sin(h),R=k*Math.sin(l),_=k*Math.cos(l)*Math.cos(h);o.position.z=_,o.position.y=R,o.position.x=G,o.lookAt(0,0,0),o.geometry.applyMatrix4(new ne().makeTranslation(0,0,-.4)),s.add(o),t.to(o.scale,{z:1.4,duration:5,yoyo:!0,repeat:-1,ease:"linear",delay:Math.random()}),o.country=c,o.message=f}xe({lat:-30.5595,lng:22.9375,country:"South Africa",message:"Yes, this is where I live \u{1F603}"});W.rotation.y=-Math.PI/2;s.rotation.offset={x:0,y:0};const r={x:0,y:0,down:!1,xPrev:void 0,yPrev:void 0},B=new te,C=document.querySelector("#msg-container"),ge=document.querySelector("#country"),we=document.querySelector("#message");let q=!1;function V(){requestAnimationFrame(V),x.render(v,n),s.rotation.y+=.002,E.rotation.y+=.002,j.rotation.y+=.002,N.rotation.y+=.002,x.render(v,n),B.setFromCamera(r,n);const e=B.intersectObjects(s.children.filter(i=>i.geometry.type==="BoxGeometry"));s.children.forEach(i=>{i.material.opacity=.4}),t.set(C,{display:"none"});for(let i=0;i<e.length;i++){const c=e[i].object;c.material.opacity=1,t.set(C,{display:"block"}),ge.innerHTML=c.country,we.innerHTML=c.message}x.render(v,n),w.rotation.x>=.8?q=!0:w.rotation.x<=-.8&&(q=!1),q?w.rotation.x-=5e-5:w.rotation.x+=5e-5}V();p.addEventListener("mousedown",({clientX:e,clientY:i})=>{r.down=!0,r.xPrev=e,r.yPrev=i});addEventListener("mousemove",e=>{if(innerWidth>=1280)r.x=(e.clientX-innerWidth/2)/(innerWidth/2)*2-1,r.y=-(e.clientY/innerHeight)*2+1;else{const i=p.getBoundingClientRect().top;r.x=(e.clientX-innerWidth/2)/(innerWidth/2)*2-1,r.y=-((e.clientY-i)/innerHeight)*2+1}if(t.set(C,{x:e.clientX,y:e.clientY}),r.down){e.preventDefault();const i=e.clientX-r.xPrev,c=e.clientY-r.yPrev;s.rotation.offset.x+=c*.005,s.rotation.offset.y+=i*.005,t.to(s.rotation,{y:s.rotation.offset.y,x:s.rotation.offset.x,duration:2}),r.xPrev=e.clientX,r.yPrev=e.clientY}});addEventListener("mouseup",e=>{r.down=!1});addEventListener("resize",()=>{x.setSize(p.offsetWidth,p.offsetHeight);const e=n.position.z,i=n.position.x,c=n.rotation.y;n=new O(75,p.offsetWidth/p.offsetHeight,.1,1e3),n.position.z=e,n.position.x=i,n.rotation.y=c});const X=document.getElementsByClassName("btn-back");let m;for(var y=0;y<X.length;y++)X[y].addEventListener("click",()=>{console.log(m),m===1?t.to(a,{opacity:0,onComplete:()=>{a.classList.add("hidden"),t.to(n.position,{z:15,x:-10,ease:"power3.inOut",duration:2}),t.to(M,{opacity:1,duration:2,delay:1}),M.classList.remove("invisible")}}):m===2?(m=1,L=1,t.to(u,{opacity:0,onComplete:()=>{u.classList.add("hidden")}}),t.to(n.position,{z:-1e3,x:10,duration:2,delay:1}),t.to(n.rotation,{y:0,duration:2,onComplete:()=>{a.classList.remove("hidden"),a.classList.remove("invisible"),t.to(a,{opacity:1,delay:1})}})):m===3&&(m=1,t.to(d,{opacity:0,onComplete:()=>{d.classList.add("hidden")}}),t.to(n.position,{z:-1e3,x:10,duration:2,delay:1}),t.to(n.rotation,{y:0,duration:2,onComplete:()=>{a.classList.remove("hidden"),a.classList.remove("invisible"),t.to(a,{opacity:1,delay:1})}}))});const Le=document.querySelector("#btn-explore"),a=document.querySelector("#mars-container"),M=document.querySelector("#earth-container");let L=1,P=1;Le.addEventListener("click",e=>{m=1,console.log(m),t.to(M,{opacity:0}),t.to(n.position,{z:-1e3,x:10,ease:"power3.inOut",duration:2,delay:1,onComplete:()=>{M.classList.add("invisible"),a.classList.remove("hidden"),t.to(a,{opacity:1,duration:2,onComplete:()=>{a.classList.remove("opacity-0")}})}})});const Y=document.querySelectorAll("#btn-work"),u=document.querySelector("#jupiter-container"),d=document.querySelector("#neptune-container");for(var y=0;y<Y.length;y++)Y[y].addEventListener("click",()=>{P===1?(m=2,L=2,t.to(a,{opacity:0,onComplete:()=>{a.classList.add("invisible")}}),t.to(n.rotation,{y:1,duration:3}),t.to(n.position,{z:-1500,x:-10,ease:"power3.inOut",duration:2,delay:1,onComplete:()=>{u.classList.remove("hidden"),a.classList.add("hidden"),t.to(u,{opacity:1,duration:2,onComplete:()=>{u.classList.remove("opacity-0")}})}})):P===2&&(m=2,L=2,t.to(d,{opacity:0,onComplete:()=>{d.classList.add("invisible")}}),t.to(n.rotation,{y:1,duration:3}),t.to(n.position,{z:-1500,x:-10,ease:"power3.inOut",duration:2,delay:1,onComplete:()=>{u.classList.remove("hidden"),d.classList.add("hidden"),t.to(u,{opacity:1,duration:2,onComplete:()=>{u.classList.remove("opacity-0")}})}}))});const T=document.querySelectorAll("#btn-cv");for(var y=0;y<T.length;y++)T[y].addEventListener("click",()=>{L===1?(m=3,P=2,t.to(a,{opacity:0,onComplete:()=>{a.classList.add("invisible")}}),t.to(n.rotation,{y:-1,duration:3}),t.to(n.position,{z:-1680,x:490,ease:"power3.inOut",duration:2,delay:1,onComplete:()=>{d.classList.remove("invisible"),d.classList.remove("hidden"),a.classList.add("hidden"),t.to(d,{opacity:1,duration:2,onComplete:()=>{d.classList.remove("opacity-0")}})}})):L===2&&(m=3,P=2,t.to(u,{opacity:0,onComplete:()=>{u.classList.add("invisible")}}),t.to(n.rotation,{y:-1,duration:3}),t.to(n.position,{z:-1680,x:490,ease:"power3.inOut",duration:2,delay:1,onComplete:()=>{d.classList.remove("invisible"),d.classList.remove("hidden"),u.classList.add("hidden"),t.to(d,{opacity:1,duration:2,onComplete:()=>{d.classList.remove("opacity-0")}})}}))});addEventListener("touchmove",e=>{e.clientX=e.touches[0].clientX,e.clientY=e.touches[0].clientY;const i=B.intersectObject(W);if(console.log(i),i.length>0&&(r.down=!0),r.down){const c=p.getBoundingClientRect().top;r.x=e.clientX/innerWidth*2-1,r.y=-((e.clientY-c)/innerHeight)*2+1,console.log(r.y),t.set(C,{x:e.clientX,y:e.clientY}),e.preventDefault();const f=e.clientX-r.xPrev,o=e.clientY-r.yPrev;s.rotation.offset.x+=o*.005,s.rotation.offset.y+=f*.005,t.to(s.rotation,{y:s.rotation.offset.y,x:s.rotation.offset.x,duration:2}),r.xPrev=e.clientX,r.yPrev=e.clientY}},{passive:!1});addEventListener("touchend",e=>{r.down=!1});
